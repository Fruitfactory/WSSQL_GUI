<ResourceDictionary x:Class="WSUI.Module.Service.ResourceTemplate"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:service="clr-namespace:WSUI.Module.Service"
             xmlns:ctrl="clr-namespace:WSUI.Infrastructure.Controls;assembly=WSUI.Infrastructure"                   
                    
                    >

    <service:DateToStringConverter x:Key="dateConverter" />
    
    <Style x:Key="ImageStyle" TargetType="{x:Type Image}">
        <Setter Property="Width"  Value="16"/>
        <Setter Property="Height" Value="16"/>
        <Setter Property="Margin" Value="5"/>
    </Style>


    <DataTemplate x:Key="NoneTemplate">
        <DockPanel LastChildFill="True">
            <Image Grid.Column="0" Source="..\Images\document-smiley-sad.png" Style="{StaticResource ImageStyle}" DockPanel.Dock="Left"/>
            <TextBlock Text="{Binding Path=DateModified,Converter={StaticResource dateConverter}}" Grid.Column="2" Margin="5" DockPanel.Dock="Right"/>
            <ctrl:HightliteTextBlock Text="{Binding Path=Name}" Hightlight="{Binding Path=DataContext.SearchString,ElementName=this}"  
                                                    Grid.Column="1"   Margin="5"/>
        </DockPanel>
    </DataTemplate>

    <DataTemplate x:Key="EmailTemplate">
        <DockPanel LastChildFill="True">
            <Image Grid.Column="0" Source="..\Images\mail.png" Style="{StaticResource ImageStyle}" DockPanel.Dock="Left"/>
            <TextBlock Text="{Binding Path=DateModified,Converter={StaticResource dateConverter}}" Grid.Column="2" Margin="5" DockPanel.Dock="Right"/>
            <!--<TextBlock Text="{Binding Path=Name}" Grid.Column="1" Margin="5"/>-->
            <ctrl:HightliteTextBlock Text="{Binding Path=Name}" Hightlight="{Binding Path=DataContext.SearchString,ElementName=this}"  
                                                    Grid.Column="1"   Margin="5"/>
        </DockPanel>
    </DataTemplate>

    <DataTemplate x:Key="UserTemplate">
        <DockPanel LastChildFill="True">
            <Image Grid.Column="0" Source="..\Images\user.png" Style="{StaticResource ImageStyle}" DockPanel.Dock="Left"/>
            <TextBlock Text="{Binding Path=DateModified,Converter={StaticResource dateConverter}}" Grid.Column="2" Margin="5" DockPanel.Dock="Right"/>
            <ctrl:HightliteTextBlock Text="{Binding Path=Name}" Hightlight="{Binding Path=DataContext.SearchString,ElementName=this}"  
                                                    Grid.Column="1"   Margin="5"/>
        </DockPanel>
    </DataTemplate>

    <DataTemplate x:Key="FileTemplate">
        <DockPanel LastChildFill="True">
            <Image Grid.Column="0" Source="..\Images\document.png" Style="{StaticResource ImageStyle}" DockPanel.Dock="Left"/>
            <TextBlock Text="{Binding Path=DateModified,Converter={StaticResource dateConverter}}" Grid.Column="2" Margin="5" DockPanel.Dock="Right"/>
            <ctrl:HightliteTextBlock Text="{Binding Path=Name}" Hightlight="{Binding Path=DataContext.SearchString,ElementName=this}"  
                                                    Grid.Column="1"   Margin="5"/>
        </DockPanel>
    </DataTemplate>

    <DataTemplate x:Key="AttachmentTemplate">
        <DockPanel>
            <Image Grid.Column="0" Source="..\Images\document.png" Style="{StaticResource ImageStyle}" DockPanel.Dock="Left"/>
            <TextBlock Text="{Binding Path=DateModified,Converter={StaticResource dateConverter}}" Grid.Column="2" Margin="5" DockPanel.Dock="Right"/>
            <ctrl:HightliteTextBlock Text="{Binding Path=Name}" Hightlight="{Binding Path=DataContext.SearchString,ElementName=this}"  
                                                    Grid.Column="1"   Margin="5"/>
        </DockPanel>
    </DataTemplate>

    <service:AllFilesDataTemplateSelector x:Key="templateSelector"
            NoneTemplate="{StaticResource ResourceKey=NoneTemplate}"
            EmailTemplate="{StaticResource ResourceKey=EmailTemplate}"
            UserTemplate="{StaticResource ResourceKey=UserTemplate}"
            FileTemplate="{StaticResource ResourceKey=FileTemplate}"
            AttachmentTemplate="{StaticResource ResourceKey=AttachmentTemplate}"
            />
    
    
    <ContextMenu x:Key="contextMenu">
        <MenuItem Header="Open file"  Command="{Binding OpenCommand}"/>
    </ContextMenu>
    

</ResourceDictionary>
