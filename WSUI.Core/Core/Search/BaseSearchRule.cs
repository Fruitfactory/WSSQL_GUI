///////////////////////////////////////////////////////////
//  BaseSearchRule.cs
//  Implementation of the Class BaseSearchRule
//  Generated by Enterprise Architect
//  Created on:      27-Sep-2013 11:34:46 PM
//  Original author: Yariki
///////////////////////////////////////////////////////////


using System;
using System.Collections.Generic;
using System.Data;
using System.Threading;
using WSUI.Core.Interfaces;
using WSUI.Infrastructure.Service.Rules;

namespace WSUI.Core.Core.Search 
{
	public class BaseSearchRule<T> : ISearch, ISearchTemplateRule<T>, IRuleQueryGenerator where T : class
	{
		protected IList<T> Result;
		protected bool NeedInterrup;
		protected DateTime LastDate;
		protected string Query;
		private readonly string ConnectionString = "Provider=Search.CollatorDSO;Extended Properties=\"Application=Windows\"";
		protected AutoResetEvent Event;
		private Thread _ruleThread;


		public BaseSearchRule()
		{

		}

		public ISearchResult<T> GetResults()
		{

			return null;
		}

		/// <summary>
		/// @param ="criteris"
		/// </summary>
		/// <param name="criteria"></param>
		public void SetSearchCriteria(string criteria){

		}

		public void Search()
		{

		}

		public void Stop()
		{

		}

		public event Action<object> SearchStarted;

		public event Action<object> SearchFinished;

	    protected virtual void DoQuery()
	    {
	    }

	    protected virtual void CreateQuery(){}

		/// 
		/// <param name="reader"></param>
		protected virtual void ReadData(IDataReader reader){}

		public AutoResetEvent GetEvent()
		{

			return null;
		}

		public void Reset()
		{
			

		}

	    public bool IsSearching { get; private set; }
	    public int Priority { get; private set; }

	    protected virtual void ProcessResult()
		{
			

		}

		protected virtual void SortingResult()
		{

		}

		protected virtual void RemoveDuplicates()
		{

		}

		public void Init()
		{

		}

	    public string GenerateWherePart(IList<IRule> listCriteriaRules)
	    {
	        throw new NotImplementedException();
	    }

	}//end BaseSearchRule

}//end namespace Search